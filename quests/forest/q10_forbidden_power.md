# Quest 10: 禁止の力

## 🦍 導入

ウホホ！ルールの力を手に入れたな！
だが、「やれ」と言うだけじゃ足りない場面がある。

時には「やるな」と言う力——「禁止」の力が必要だ。
「このファイルは絶対に触るな」「この操作は禁止」——
こういう安全装置をCLAUDE.mdに組み込めるんだ。

AI社員を安全に運用するための重要なスキルだぞ！

## 🎯 目標

- [ ] CLAUDE.mdに禁止ルールを設定する
- [ ] 禁止ルールが実際に機能することを検証する
- [ ] 「許可」と「禁止」の組み合わせでAIの行動範囲を設計する感覚を掴む

## 📋 やること

1. 以下のコピペで禁止ルール付きCLAUDE.mdを作成する
2. 禁止された操作を実行しようとした時の挙動を確認する
3. 安全設計の考え方を理解する

## 📎 コピペ

```
practice/forest/forbidden-test/CLAUDE.md を作成して。以下の内容で：

# 禁止ルールテスト用設定

## 絶対禁止事項
- practice/forest/forbidden-test/secret.md は読み取り・編集・削除を禁止する
- rm コマンドの使用を一切禁止する
- ファイルの削除操作は一切行わない
- 外部URLへのアクセスを禁止する

## 許可事項
- practice/forest/forbidden-test/ 内のファイル作成は許可する
- ファイルの読み取りは secret.md 以外は許可する

次に practice/forest/forbidden-test/secret.md を作成して「これは秘密のファイルです」と書いて。
その後「secret.md を読んで」と頼んでみて。禁止ルールが効いているか確認して。
```

## ✅ 成功条件

- [ ] `practice/forest/forbidden-test/CLAUDE.md` に禁止ルールが設定された
- [ ] 禁止操作を要求した時、Claude Codeがルールに従って拒否する挙動を確認した
- [ ] 「許可」と「禁止」の組み合わせで行動範囲を制御できると理解した

## 📦 成果物

- `practice/forest/forbidden-test/CLAUDE.md`
- `practice/forest/forbidden-test/secret.md`

## 🍌 報酬

- base_bp: 120
- first_clear_bonus: 24

## 💡 ヒント

### hint_1
CLAUDE.mdに「禁止」と書けば、Claude Codeはその操作を避けようとするぞ。ただし、ユーザーが直接強く指示すれば無視される場合もある。それでも「意図しない操作」の防止には非常に有効だ。

### hint_2
禁止ルールの書き方:
- 「〜を禁止する」「〜は一切行わない」のように断定的に書く
- 何が禁止で何が許可かを明確に分ける
- 具体的なファイル名やコマンド名を指定する

### hint_3
コピペを送信すると、CLAUDE.md作成→secret.md作成→secret.md読み取りの流れで実行される。禁止ルールが効いていれば、Claude Codeは「CLAUDE.mdの禁止ルールにより読み取りできない」と回答するはずだ。

## 📚 学習ポイント

- **禁止ルール**: 「やるな」という指示もAI制御の重要な要素
- **安全設計**: 「許可」と「禁止」を明確に分けることで、AIの行動範囲を正確に制御できる
- **機密保護**: 特定ファイルへのアクセスを禁止することで、情報漏洩を防ぐ

## 📖 関連リファレンス

docs/reference/02_claude_md.md
