# Quest 45: タスクの分解

## 🦍 導入

ウホッ！チームを召喚し、タスクを登録した。
だが本当の力は「タスクの分解」にある！

DAG——有向非巡回グラフ。なんだか難しく聞こえるが、要は
「どのタスクが先で、どれが後か」を正しく設計する技術だ。
この力があれば、どんな複雑な仕事も整理できるぞ！

## 🎯 目標

- [ ] DAG（有向非巡回グラフ）の概念を理解する
- [ ] 「AI社員紹介ページ作成」を5つのタスクに分解する
- [ ] 並列と直列を正しく判断してblockedByを設計する

## 📋 やること

1. 「AI社員紹介ページ作成」プロジェクトを5タスクに分解する
2. 各タスク間の依存関係を設計する
3. DAGを図示する
4. `practice/boss-challenge/volcano/task-dag.md` に保存する

## 📎 コピペ

```
「AI社員の紹介ページを作る」プロジェクトを5つのタスクに分解して、依存関係（DAG）を設計して practice/boss-challenge/volcano/task-dag.md に保存して：

タスク例:
1. AI社員の情報を調べる（リサーチ）
2. プロフィール文を書く（ライティング）
3. アバター画像を用意する（デザイン）
4. HTMLページを構成する（実装）
5. 最終チェック・公開準備（レビュー）

各タスクの依存関係を考えて：
- どれが並列で実行できる？
- どれが他の完了を待つ必要がある？
- DAGを矢印（→）で図示して
```

## ✅ 成功条件

- [ ] `practice/boss-challenge/volcano/task-dag.md` が存在する
- [ ] 5つのタスクが定義されている
- [ ] 並列と直列の依存関係が明記されている
- [ ] DAGが矢印等で図示されている

## 📦 成果物

- `practice/boss-challenge/volcano/task-dag.md`

## 🍌 報酬

- base_bp: 200
- first_clear_bonus: 40

## 💡 ヒント

### hint_1
DAGのポイントは「並列にできるものは並列にする」こと。例えば「リサーチ」が終われば「ライティング」と「デザイン」は同時に進められる。

### hint_2
依存関係の例:
```
リサーチ → ライティング → レビュー
リサーチ → デザイン → レビュー
```
ライティングとデザインは「並列」（互いに依存しない）。レビューは「両方完了後」（blockedBy: ライティング, デザイン）。

### hint_3
DAGの全体像:
```
           ┌→ ライティング ─┐
リサーチ ─┤                  ├→ 実装 → レビュー
           └→ デザイン ──────┘
```

blockedBy設計:
- リサーチ: blockedBy なし（最初に開始）
- ライティング: blockedBy [リサーチ]
- デザイン: blockedBy [リサーチ]
- 実装: blockedBy [ライティング, デザイン]
- レビュー: blockedBy [実装]

ライティングとデザインは並列spawn可能。これで全体の所要時間が短縮される。

## 📚 学習ポイント

- DAG（有向非巡回グラフ）はタスク依存関係の設計手法
- 並列可能なタスクを見つけることが、効率化の最大のカギ
- blockedByを正しく設計すれば、Agent Teamsが自動で実行順序を管理する

## 📖 関連リファレンス

docs/reference/09_agent_teams.md
