# Quest 18: 技の極意

## 🦍 導入

ウホホホ！お前の技は相当なレベルに達した！
最後に学ぶのは「技の極意」——スキル設計のベストプラクティスだ。

ただ動くスキルと、美しく設計されたスキルは全然違う。
エラーハンドリング、確認ステップ、出力の整理——
これらを組み込んだ「完成度の高いスキル」を作れるか？

ここを乗り越えれば、お前は「技の達人」だ！

## 🎯 目標

- [ ] エラーハンドリングを含むスキルを作成する
- [ ] スキル設計のベストプラクティスを理解する
- [ ] 既存スキルを改良して完成度を高める体験をする

## 📋 やること

1. 以下のコピペで高度なスキルを作成する
2. エラーケースの処理を確認する
3. ベストプラクティスを整理する

## 📎 コピペ

```
practice/mountain/skill-dojo/.claude/commands/daily-log.md を改良して。以下の要素を追加：

毎日の作業記録を自動生成するスキル（改良版）。

## 手順

1. 今日の日付を取得する（dateコマンド）
2. practice/mountain/skill-dojo/logs/ フォルダが存在するか確認（なければ作成）
3. 既に今日の日報が存在するか確認
   - 存在する場合: 「既に今日の日報があります。追記しますか？」と表示し、$ARGUMENTSの内容をメモセクションに追記する
   - 存在しない場合: 新規作成する
4. テンプレートで内容を書く
5. 作成・更新したファイルのパスと結果を表示する

## エラー時の動作

- logsフォルダの作成に失敗した場合: 「フォルダを作成できませんでした」と表示
- ファイルの書き込みに失敗した場合: 「書き込みに失敗しました」と表示
- 引数なしで既存ファイルがある場合: 現在の内容を表示するだけ

## 出力形式

📅 日報 [ステータス: 新規作成 or 追記 or 表示]
ファイル: logs/[日付].md
---
[ファイルの内容サマリー]

作成後、practice/mountain/skill-dojo/skill-best-practices.md を作成して、
スキル設計のベストプラクティスを5つ以上まとめて。
```

## ✅ 成功条件

- [ ] 改良版スキルにエラーハンドリングが含まれている
- [ ] 既存ファイルの有無で動作が分岐する設計になっている
- [ ] `practice/mountain/skill-dojo/skill-best-practices.md` にベストプラクティスが5つ以上まとめられている

## 📦 成果物

- `practice/mountain/skill-dojo/.claude/commands/daily-log.md`（改良版）
- `practice/mountain/skill-dojo/skill-best-practices.md`

## 🍌 報酬

- base_bp: 140
- first_clear_bonus: 28
- badge: skill_master
- badge_icon: 🥋
- badge_description: 技の達人

## 💡 ヒント

### hint_1
エラーハンドリングのポイント: 「何が失敗する可能性があるか」を先に考えて、それぞれの対処を書いておくことだ。

### hint_2
スキル設計のベストプラクティス:
1. **単一責任**: 1スキル = 1つの目的
2. **明確な命名**: 名前だけで何をするか分かる
3. **エラーハンドリング**: 失敗時の動作を定義
4. **冪等性**: 何度実行しても安全
5. **出力の整理**: 結果が見やすい

### hint_3
コピペをそのまま送信すればOK。改良版スキルが作成された後、best-practices.mdも自動生成される。「単一責任」「エラーハンドリング」「冪等性」「出力の見やすさ」「パラメータの柔軟性」がキーワードだ。

## 📚 学習ポイント

- **エラーハンドリング**: 失敗時の動作を事前に定義しておくことで、スキルの信頼性が上がる
- **冪等性**: 何度実行しても壊れない設計が重要
- **ベストプラクティス**: 単一責任、明確な命名、エラー処理、出力整理、柔軟性

## 📖 関連リファレンス

docs/reference/03_skills.md
